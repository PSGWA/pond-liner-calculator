<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤ ‡∏ú‡πâ‡∏≤‡∏õ‡∏π‡∏ö‡πà‡∏≠ ‚Ä¢ ‡∏™‡∏£‡∏∏‡∏õ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</title>
<style>
:root{
 --clr-primary:#28a745;
 --clr-primary-dark:#208437;
 --clr-secondary:#007bff;
 --clr-danger:#dc3545;
 --clr-bg:#f9fafc;
 --radius:12px;
 --shadow:0 6px 14px rgba(0,0,0,.08);
}
*{box-sizing:border-box;font-family:'Segoe UI',Tahoma,Arial,sans-serif}
body{margin:0;background:var(--clr-bg);color:#333;line-height:1.5}
h1{text-align:center;margin:30px 0;font-size:28px}
.tabs{display:flex;justify-content:center;gap:14px;margin-bottom:24px;flex-wrap:wrap}
.tab{padding:10px 24px;font-weight:600;border:1px solid #ccc;border-radius:var(--radius);background:#fff;cursor:pointer;transition:.3s}
.tab:hover{background:#eee}
.tab.active{border-color:var(--clr-primary);background:var(--clr-primary);color:#fff}
.container{max-width:780px;margin:0 auto 40px;padding:28px;background:#fff;border-radius:var(--radius);box-shadow:var(--shadow)}
label{display:block;margin-bottom:6px;font-weight:600}
input[type=number],select,textarea{width:100%;padding:12px 14px;border:1px solid #ccc;border-radius:var(--radius);margin-bottom:18px;font-size:15px}
textarea{resize:none;background:#fafafa;height:160px}
button{border:none;border-radius:var(--radius);padding:12px 22px;font-size:15px;font-weight:600;cursor:pointer;transition:.25s;box-shadow:var(--shadow)}
.btn-primary{background:var(--clr-primary);color:#fff}.btn-primary:hover{background:var(--clr-primary-dark)}
.btn-secondary{background:var(--clr-secondary);color:#fff}
.btn-danger{background:var(--clr-danger);color:#fff;padding:8px 12px;font-size:13px;box-shadow:none}
.btn-small{padding:8px 16px;font-size:14px}
.hidden{display:none}
.items-table{width:100%;border-collapse:collapse;margin-bottom:20px;border:1px solid #e2e8f0;border-radius:var(--radius);overflow:hidden}
.items-table thead{background:var(--clr-primary);color:#fff}
.items-table th,.items-table td{padding:10px;text-align:center}
.items-table th:first-child,.items-table td:first-child{min-width:150px} /* widened column */
.items-table tbody tr:nth-child(odd){background:#f5f7fa}
.items-table tbody tr:hover{background:#e9fbe8}
.copy-btn{display:inline-flex;align-items:center;gap:8px;border:none;padding:10px 18px;border-radius:var(--radius);background:var(--clr-secondary);color:#fff;font-weight:600;box-shadow:var(--shadow);cursor:pointer}
.copy-btn:hover{background:#0069d8}
@media(max-width: 600px) {
    .container {
        padding: 14px;
        max-width: 100%; /* ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏ï‡πá‡∏°‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ */
    }

    .items-table {
        width: 100%;
        display: block; /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô */
        overflow-x: auto; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏á */
        -webkit-overflow-scrolling: touch; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÉ‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
    }

    .items-table th, .items-table td {
        font-size: 12px;
        padding: 8px;
        white-space: nowrap; /* ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏Ñ‡∏≥‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á */
    }

    .tab {
        padding: 8px 16px;
        font-size: 14px;
    }

    button {
        font-size: 14px;
        padding: 10px 18px;
    }

    #addItem {
        width: 100%;
        padding: 12px;
    }

    h1 {
        font-size: 22px;
    }
}
</style>
</head>
<body>
 
<h1>‡∏™‡∏£‡∏∏‡∏õ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</h1>
<div class="tabs">
 <div class="tab active" data-target="summaryContainer">‡∏™‡∏£‡∏∏‡∏õ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</div>
  <div class="tab" onclick="location.href='index.html'">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</div>
</div>

<!-- SUMMARY -->
<div class="container" id="summaryContainer">
<form id="summaryForm">
 <label>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö (‡∏ä‡∏∑‡πà‡∏≠-‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà-‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£)</label>
 <textarea id="custInfo"  placeholder="‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà"></textarea>
 <h3 style="margin-top:0">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ú‡πâ‡∏≤</h3>
 <table class="items-table" id="itemsTable">
  <thead>
   <tr><th>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤</th><th>‡∏Å‡∏ß‡πâ‡∏≤‡∏á (‡∏°.)</th><th>‡∏¢‡∏≤‡∏ß (‡∏°.)</th><th>‡∏•‡∏∂‡∏Å (‡∏°.)</th><th>‡∏Ñ‡∏•‡∏≠‡∏á‡πÑ‡∏™‡πâ‡πÑ‡∏Å‡πà?</th><th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th><th>‡∏•‡∏ö</th></tr>
  </thead><tbody></tbody>
 </table>
 <button type="button" id="addItem" class="btn-secondary btn-small">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>
 <label style="margin-top:14px"><input type="checkbox" id="summarySpecial"> ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏û‡∏¥‡πÄ‡∏®‡∏© (+5 ‡∏ö‡∏≤‡∏ó/‡∏ï‡∏£.‡∏°. ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 1,500 ‡∏ö‡∏≤‡∏ó)</label>
<!-- ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏° -->
<label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏à</label>
<select id="pageSelect">
  <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏à...</option>
  <option value="‡∏™‡πâ‡∏°">‡∏™‡πâ‡∏°</option>
  <option value="‡∏°‡πà‡∏ß‡∏á">‡∏°‡πà‡∏ß‡∏á</option>
  <option value="‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô">‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô</option>
  <option value="‡∏ö‡πà‡∏≠‡πÉ‡∏´‡∏ç‡πà">‡∏ö‡πà‡∏≠‡πÉ‡∏´‡∏ç‡πà</option>
  <option value="‡∏£‡∏ñ‡∏ö‡∏£‡∏£‡∏ó‡∏∏‡∏Å">‡∏£‡∏ñ‡∏ö‡∏£‡∏£‡∏ó‡∏∏‡∏Å</option>
  <option value="MP">MP</option>
  <option value="‡πÇ‡∏ó‡∏£">‡πÇ‡∏ó‡∏£</option>
  <option value="‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏ü‡∏™ (‡πÄ‡∏ï‡∏¢)">‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏ü‡∏™ (‡πÄ‡∏ï‡∏¢)</option>
  <option value="PP Dump">PP Dump</option>
  <option value="‡πÄ‡∏ã‡∏ü‡∏ó‡∏£‡∏±‡∏Å">‡πÄ‡∏ã‡∏ü‡∏ó‡∏£‡∏±‡∏Å</option>
  <option value="Line">Line</option>
</select>

<label>‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</label>
<select id="adminSelect">
  <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô...</option>
  <option value="‡∏´‡∏°‡∏¥‡∏ß">‡∏´‡∏°‡∏¥‡∏ß</option>
  <option value="‡πÄ‡∏ï‡∏¢">‡πÄ‡∏ï‡∏¢</option>
  <option value="‡∏à‡πã‡∏≤">‡∏à‡πã‡∏≤</option>
  <option value="‡πÄ‡∏ö‡∏•">‡πÄ‡∏ö‡∏•</option>
  <option value="‡∏´‡∏á‡∏™‡πå">‡∏´‡∏á‡∏™‡πå</option>
  <option value="‡∏†‡∏µ‡∏£‡πå">‡∏†‡∏µ‡∏£‡πå</option>
  <option value="‡∏Å‡∏°‡∏•">‡∏Å‡∏°‡∏•</option>
  <option value="pekky">pekky</option>
 <option value="pekky">‡∏ß‡∏¥</option>
 <option value="pekky">‡∏û‡∏•‡∏≠‡∏¢</option>
</select>

<p id="selectedPage" style="display:none"></p>
<p id="selectedAdmin" style="display:none"></p>


 <button type="submit" class="btn-primary" style="margin-top:20px">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</button>
</form>
<textarea id="summaryResult" readonly style="margin-top:24px"></textarea>
<button id="summaryCopy" class="copy-btn hidden" style="margin-top:16px">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</button>
</div>
<script>
const fmt=n=>Math.floor(n).toLocaleString();
const PRICE={'0.3L':50,'0.5L':60,'0.5H':65,'0.75H':85};
const MAT=c=>c.endsWith('L')?'LDPE':'HDPE';const THK=c=>c.replace(/[LH]$/,'');
const tbody=document.querySelector('#itemsTable tbody');
const addRow=()=>{const tr=document.createElement('tr');tr.innerHTML=`<td><select class="t"><option value="0.3L">LDPE 0.3</option><option value="0.5L">LDPE 0.5</option><option value="0.5H">HDPE 0.5</option><option value="0.75H">HDPE 0.75</option></select></td><td><input class="w" type="number" step="0.01"></td><td><input class="l" type="number" step="0.01"></td><td><input class="d" type="number" step="0.01"></td><td><input type="checkbox" class="canal"></td><td><input class="q" type="number" value="1" min="1"></td><td><button type="button" class="btn-danger del">‡∏•‡∏ö</button></td>`;tr.querySelector('.del').onclick=()=>tr.remove();tbody.appendChild(tr);} ;addRow();document.getElementById('addItem').onclick=addRow;

// ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô
document.getElementById('pageSelect').addEventListener('change', updateSummary);
document.getElementById('adminSelect').addEventListener('change', updateSummary);

function updateSummary() {
  const page = document.getElementById('pageSelect').value;
  const admin = document.getElementById('adminSelect').value;

}

const summaryForm = document.getElementById('summaryForm');
summaryForm.onsubmit = (e) => {
  e.preventDefault(); // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤

  const cust = document.getElementById('custInfo').value.trim();
  let total = 0, areaSum = 0, list = '', idx = 1;

  // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ú‡πâ‡∏≤
  tbody.querySelectorAll('tr').forEach((tr) => {
    const code = tr.querySelector('.t').value;
    const w = parseFloat(tr.querySelector('.w').value || 0);
    const l = parseFloat(tr.querySelector('.l').value || 0);
    const d = parseFloat(tr.querySelector('.d').value || 0);
    const q = parseInt(tr.querySelector('.q').value || 1);
    const isCanal = tr.querySelector('.canal').checked;

    if (w <= 0 || l <= 0 || q <= 0) return;

    let adjW = w, adjL = l;
    if (d > 0) {
      const pad = isCanal ? 1 : 2;
      adjW = w + d * 2 + pad;
      adjL = l + d * 2 + pad;
    }

    const area = adjW * adjL;
    const cost = Math.floor(area * PRICE[code] * q);
    total += cost;
    areaSum += area * q;

    list += `üìç ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ${idx} :\n‡∏ú‡πâ‡∏≤‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å ${MAT(code)} ‡∏´‡∏ô‡∏≤ ${THK(code)} ‡∏°‡∏°. (${PRICE[code]} ‡∏ö‡∏≤‡∏ó/‡∏ï‡∏£.‡∏°.)\n‡∏ú‡πâ‡∏≤‡∏Ç‡∏ô‡∏≤‡∏î ${adjW} √ó ${adjL} ‡∏°. = ${fmt(area)} ‡∏ï‡∏£.‡∏°. \n‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ú‡πâ‡∏≤ ${fmt(cost)} ‡∏ö‡∏≤‡∏ó\n`;
    if (q > 1) { // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏∑‡∏ô
      list += `‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ${q} ‡∏ú‡∏∑‡∏ô\n`;
    }
    idx++;
  });

  if (total === 0) return alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£');

  let ship = total < 5000 ? 300 : 0;
  if (document.getElementById('summarySpecial').checked) {
    let ex = Math.floor(areaSum * 5);
    ship += ex > 1500 ? 1500 : ex;
  }

  const grand = Math.floor(total + ship);
  const dep = grand >= 5000 ? Math.floor(grand * 0.1) : 0;
  const bal = grand - dep;

  // ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•
  let out = '';
  if (cust) {
    out = `‡∏™‡πà‡∏á\n${cust}\n\n${list}üìå ‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\n‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏° ${fmt(grand)} ‡∏ö‡∏≤‡∏ó\n`;
  } else {
    out = `${list}üìå ‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\n‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏° ${fmt(grand)} ‡∏ö‡∏≤‡∏ó\n`;
  }

  out += ship ? `‡∏Ñ‡πà‡∏≤‡∏à‡∏±‡∏î‡∏™‡πà‡∏á ${fmt(ship)} ‡∏ö‡∏≤‡∏ó\n` : '(‡∏™‡πà‡∏á‡∏ü‡∏£‡∏µ ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡πà‡∏∞)\n';

  if (dep) {
    out += `‚úÖ ‡∏ä‡∏≥‡∏£‡∏∞‡∏°‡∏±‡∏î‡∏à‡∏≥ 10% (${fmt(dep)} ‡∏ö‡∏≤‡∏ó)\n\n  COD ${fmt(bal)} ‡∏ö‡∏≤‡∏ó `;
  }

  out += 'üöö ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏à‡∏∞‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡∏ñ‡∏∂‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 3-5 ‡∏ß‡∏±‡∏ô';

  // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏à‡πÅ‡∏•‡∏∞‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô
  const page = document.getElementById('pageSelect').value;
  const admin = document.getElementById('adminSelect').value;

  if (page) {
    out += `\n\n‡πÄ‡∏û‡∏à: ${page}`;
  }

  if (admin) {
    out += `\n‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô: ${admin}`;
  }

  // ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á summaryResult
  document.getElementById('summaryResult').value = out.trim();
  document.getElementById('summaryCopy').classList.remove('hidden');
};

// ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
document.getElementById('summaryCopy').onclick = () => {
  document.getElementById('summaryResult').select();
  document.execCommand('copy');
  alert('‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß');
};
</script>
</body>
</html>
